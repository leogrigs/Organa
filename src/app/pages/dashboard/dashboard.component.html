<div class="organa">
  <div class="filters">
    <app-filter></app-filter>
  </div>
  <div class="dashboard">
    <h2 class="dashboard-title">Todas as tarefas</h2>
    <div class="dashboard-upper">
      <div class="dashboard-search">
        <input
          type="text"
          class="dashboard-search-input"
          placeholder="Pesquisar"
        />
        <img
          src="/assets/img/search.svg"
          alt=""
          class="dashboard-search-icon"
        />
      </div>
      <button class="dashboard-new_card" (click)="openModal('create', '')">
        + Adicionar tarefa
      </button>
    </div>
    <div class="dashboard-cards">
      <app-card
        *ngFor="let card of dashboard.cards"
        [card]="card"
        (OnDelete)="openModal('delete', $event)"
      ></app-card>
    </div>
  </div>
</div>
<app-modal (OnToggle)="closeModal($event, 'create')" *ngIf="this.showModal">
  <form action="" [formGroup]="this.formCard" class="form" id="cardForm">
    <legend>Criar nova tarefa</legend>
    <div class="form-group">
      <label for="form-group-input" class="form-group-label">Nome *</label>
      <input
        type="text"
        id="form-group-input"
        class="form-group-input"
        placeholder="Minha tarefa"
        formControlName="card_title"
      />
    </div>
    <div class="form-group">
      <label for="form-group-input" class="form-group-label">Descrição *</label>
      <textarea
        name="card-description"
        id="form-group-textarea"
        class="form-group-input"
        form="cardForm"
        placeholder="Descrição da minha tarefa"
        formControlName="card_description"
      ></textarea>
    </div>
    <div class="form-group-flex">
      <div class="form-group">
        <label for="form-group-input" class="form-group-label">Categoria</label>
        <select
          name=""
          id=""
          class="form-group-input"
          formControlName="card_group"
        >
          <option value="Trabalho">Trabalho</option>
          <option value="Faculdade">Faculdade</option>
          <option value="Saúde">Saúde</option>
        </select>
      </div>
      <div class="form-group">
        <label for="form-group-input" class="form-group-label">Status *</label>
        <select
          name=""
          id=""
          class="form-group-input"
          formControlName="card_status"
        >
          <option value="To Do">To Do</option>
          <option value="Doing">Doing</option>
          <option value="Done">Done</option>
        </select>
      </div>
    </div>
    <button class="form-button" (click)="onSubmit()">CRIAR TAREFA</button>
  </form>
</app-modal>
<app-modal (OnToggle)="closeModal($event, 'delete')" *ngIf="this.showModalDel">
  <div class="delete">
    <h2 class="delete-title">Deseja mesmo excluir essa tarefa?</h2>
    <p class="delete-text">
      Excluindo essa tarefa você perderá as suas informações e não será possível
      resgatá-la.
    </p>
    <div class="delete-button">
      <button class="delete-button-confirm" (click)="onDelete()">
        Confirmar
      </button>
      <button
        class="delete-button-cancel"
        (click)="closeModal(false, 'delete')"
      >
        Cancelar
      </button>
    </div>
  </div>
</app-modal>
